       <!--Isotop styles -->
     <link href="/css/sorting.css" rel="stylesheet" />
     <link href="/css/animation.css" rel="stylesheet" />
  <link href="/jackbox/css/jackbox.css" rel="stylesheet" type="text/css" />
  <link href="/jackbox/css/jackbox_hovers.css" rel="stylesheet" type="text/css" />

<!--==============================content=================================-->
<div id="content">
  <div class="row-title">
    <div class="container">
      <h2>Galeria de Imagenes </h2>
      <div class="breadcrumb"> <span><a href="/">Inicio</a></span> <i class="fa fa-angle-right"></i> Galeria de Imagenes </div>
    </div>
  </div>
  <div class="content-div extra">
    <div class="container">
      <article>
      <div class="list-buttons clearfix">
 
     <a href="/imagen" class="btn-small<?php echo ($this->autor == "")?" btn-blue":""; ?>">Todas</a>  
     <?php foreach ($this->autores as $key => $value) { ?> 
     <a href="/imagen/autor/<?php echo $value["im_titulo"]; ?>" class="btn-small<?php echo ($this->autor == $value["im_titulo"])?" btn-blue":""; ?>"><?php echo $value["im_titulo"]; ?></a> 
     <?php } ?>
    </div> 
        <div class="clearfix"></div>
        <div id="work_container" class="clearfix projects">
          <ul class="row">
          <?php $album = "";$cont = 1;foreach ($this->Imagenes as $key => $value) { ?>
          <li class="item element category0<?php echo $cont; ?>" data-category="<?php echo $value["im_titulo"]; ?>"> 
              <div class="box-work">
                <figure><a class="jackbox"                         
                    data-group="images"            
                    data-title="" 
                    data-description="" 
                    href="<?php echo $value["im_imagen"]; ?>"
                    onclick="grabarClick(<?php echo $value["im_id"]; ?>);" >            
                    <img src="/timthumb/timthumb.php?src=<?php echo $value["im_thumb"] ?>&h=170&w=270&zc=1" alt="<?php echo $value["im_titulo"]; ?>">            
                  </a> </figure>
              <span> <strong><a href="#"><?php echo $value["im_titulo"]; ?></a></strong> <i><a href="#">Imagenes</a></i> </span> 
              </div> 
            </li>
            <?php $cont = ($cont == 3)?1:($cont + 1); } ?>
          </ul>
        </div>
      </article>
    </div>
  </div>
</div>

<script src="/js/jquery.isotope.js"></script>
  <script>
    jQuery(window).load(function() {  
    var jQuerycontainer = jQuery('.projects');
    //Run to initialise column sizes
    updateSize();

    //Load masonry when images all loaded
    jQuerycontainer.imagesLoaded( function(){

        jQuerycontainer.isotope({
            // options
            itemSelector : '.element',  
            layoutMode : 'masonry',
            transformsEnabled: false,
            columnWidth: function( containerWidth ) {
                containerWidth = jQuerybrowserWidth;
                return Math.floor(containerWidth / jQuerycols);
              }
        });
    });
    
      // update columnWidth on window resize
    jQuery(window).smartresize(function(){  
        updateSize();
        jQuerycontainer.isotope( 'reLayout' );
    });

  
    //Set item size
    function updateSize() {
        jQuerybrowserWidth = jQuerycontainer.width();
        jQuerycols = 4;

        if (jQuerybrowserWidth >= 1200) {
            jQuerycols = 4;
        }
        else if (jQuerybrowserWidth >= 980 && jQuerybrowserWidth < 1200) {
            jQuerycols = 4;
        }
    
       else if (jQuerybrowserWidth >= 768 && jQuerybrowserWidth < 979) {
            jQuerycols = 4;
        }
    
    
        else if (jQuerybrowserWidth >= 401 && jQuerybrowserWidth < 767) {
            jQuerycols = 2;
        }
        else if (jQuerybrowserWidth < 400) {
            jQuerycols = 2;
        }

        //console.log("Browser width is:" + jQuerybrowserWidth);
        //console.log("Cols is:" + jQuerycols);

        // jQuerygutterTotal = jQuerycols * 20;
    jQuerybrowserWidth = jQuerybrowserWidth; // - jQuerygutterTotal;
        jQueryitemWidth = jQuerybrowserWidth / jQuerycols;
        jQueryitemWidth = Math.floor(jQueryitemWidth);

        jQuery(".element").each(function(index){
            jQuery(this).css({"width":jQueryitemWidth+"px"});             
        });
      
    
  var jQueryoptionSets = jQuery('#options .option-set'),
    jQueryoptionLinks = jQueryoptionSets.find('a');

  jQueryoptionLinks.click(function(){
  var jQuerythis = jQuery(this);
  // don't proceed if already selected
  if ( jQuerythis.hasClass('selected') ) {
    return false;
  }
  var jQueryoptionSet = jQuerythis.parents('.option-set');
  jQueryoptionSet.find('.selected').removeClass('selected');
  jQuerythis.addClass('selected');

  // make option object dynamically, i.e. { filter: '.my-filter-class' }
  var options = {},
    key = jQueryoptionSet.attr('data-option-key'),
    value = jQuerythis.attr('data-option-value');
  // parse 'false' as false boolean
  value = value === 'false' ? false : value;
  options[ key ] = value;
  if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
    // changes in layout modes need extra logic
    changeLayoutMode( jQuerythis, options )
  } else {
    // otherwise, apply new options
    jQuerycontainer.isotope( options );
  }
  
  return false;
  });   
    
    };      
    
    });
  </script>
    <script type="text/javascript" src="/jackbox/js/libs/Jacked.js"></script>
    <script type="text/javascript" src="/jackbox/js/jackbox-swipe.js"></script>
    <script type="text/javascript" src="/jackbox/js/jackbox.js"></script>
    <script type="text/javascript" src="/jackbox/js/libs/StackBlur.js"></script>
    <script>
      $(document).ready(function() {    
  jQuery(".jackbox[data-group]").jackBox("init",{deepLinking: true});
      })
    </script>
    <script type="text/javascript">

        function grabarClick(id){
            $.post( "imagen/visita/id/" + id, function( data ) {});
        }
</script>
